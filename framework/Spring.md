# Spring框架

### 什么是Spring?
Spring是一个为Java应用程序提供了综合、广泛的基础性支持的Java平台。
Spring帮助开发者解决了开发中基础性的问题，使得开发人员可以专注于应用程序的开发。

### 什么是IOC容器？
IOC容器，容器容器，容器时放数据的，我们最先想到的是Java里面的容器，它是由集合类去实现的。那么我们可以把IOC容器理解为是一个Map，里面存放着的是一对对键值对。IOC容器是怎么工作的呢？在项目启动的时候，读取配置文件里面的bean节点，然后再根据类名通过反射机制new对象放到map里面。这时map里面就存好了对象了。

### 事务的基本要素(ACID)

1. 原子性：指一个事务要么全部执行，要么不执行。也就是一个事务不能做到一半就停止，比如转账过程中，不能你扣钱了，对方没收到钱。

2. 一致性：在事务执行签数据库的数据处于正常状态，而事务执行完数据还是处于正常状态，即数据完整性约束没有被破坏，比如转账过程中，不能你扣钱了，对方没收到钱。

3. 隔离性：并发事务执行之间互不影响，在一个事务内部的操作对其他事务时不产生影响的，着需要事务的隔离级别指定隔离性

4. 持久性：事务一旦执行成功，它对数据库的改变是必须永久的。

声明式事务：通过xml配置或注解实现

编程式事务：通过编程代码在业务逻辑需要时自行实现，粒度更小。

### 事务的隔离级别

数据库事务的隔离级别

| 隔离级别                     | 值   | 脏读 | 不可重复读 | 幻读 |
| :--------------------------- | ---- | ---- | ---------- | ---- |
| 未提交读（Read-Uncommitted） | 0    | √    | √          | √    |
| 提交读（Read-Committed)      | 1    | ×    | √          | ×    |
| 可重复读(Repeatable-Read)    | 2    | ×    | ×          | √    |
| 串行化                       | 3    | ×    | ×          | ×    |

Spring事务的隔离级别

1. DEFAULT（默认）：使用数据库默认的隔离级别
2. READ_UNCIMMITTED（未提交读）：允许另一个事务可以看到未提交的数据。
3. READ_COMMITTED（提交读）：保证一个事务修改的数据提交后才能被另一个事务读取，另一个事务不能读取该事务未提交的数据。
4. REPEATABLE_READ（可重复读）：保证一个事务不能读取另一个事务未提交的数据，可重复读
5. SERIALIZABLE（串行化）：事务处理为顺序执行。

### 事务的传播特性

1. REQUIRED(默认属性) ——支持当前事务，如果当前没有事务，就新建一个事务。
2. MANDATORY——支持当前事务，如果没有事务，就抛出异常
3. NEVER——以事务方式运行，如果当前存在事务，则抛出异常
4. NOT_SUPPORTED——以非事务方式执行操作，如果当前存在事务，就把当前事务挂起
5. REQUIRES_NEW——新建事务，如果当前存在，把当前事务挂起
6. SUPPORTS——支持当前事务，如果当前没有事务，就以非事务方式执行
7. NESTED——如果当前存在事务，则再嵌套事务内执行，如果没有，则与REQUIRED类似